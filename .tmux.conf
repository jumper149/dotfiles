set-option -g default-terminal "tmux-256color"
set-option -g set-titles on

set-option -g mouse       on
set-option -g mode-keys   vi
set-option -g status-keys vi
set-option -g prefix2     C-a

set-option -g base-index      1
set-option -g pane-base-index 1



set-option -g status-style                 bg=black,fg=cyan
set-option -g pane-border-style            bg=black,fg=black
set-option -g pane-active-border-style     bg=black,fg=cyan
set-option -g clock-mode-colour            cyan
set-option -g display-panes-colour         cyan
set-option -g display-panes-active-colour  brightcyan
set-option -g mode-style                   bg=brightcyan,fg=black
set-option -g window-status-style          fg=white
set-option -g window-status-activity-style fg=cyan
set-option -g window-status-bell-style     fg=yellow,blink
set-option -g window-status-current-style  fg=cyan,reverse
set-option -g window-status-last-style     default



unbind-key  -T prefix       -a

bind-key    -T prefix       \~      show-messages
#bind-key    -T prefix       %       split-window -h
bind-key    -T prefix       -       delete-buffer
bind-key    -T prefix       =       list-buffers
bind-key    -T prefix       BSpace  break-pane
bind-key    -T prefix       [       copy-mode
bind-key    -T prefix       ]       paste-buffer
bind-key    -T prefix       :       command-prompt
#bind-key    -T prefix       \"      split-window -v
bind-key    -T prefix       ?       list-keys
bind-key    -T prefix       Space   next-layout

bind-key    -T prefix       0       select-window -t :=0
bind-key    -T prefix       1       select-window -t :=1
bind-key    -T prefix       2       select-window -t :=2
bind-key    -T prefix       3       select-window -t :=3
bind-key    -T prefix       4       select-window -t :=4
bind-key    -T prefix       5       select-window -t :=5
bind-key    -T prefix       6       select-window -t :=6
bind-key    -T prefix       7       select-window -t :=7
bind-key    -T prefix       8       select-window -t :=8
bind-key    -T prefix       9       select-window -t :=9

bind-key    -T prefix       <       display-menu -T "#[align=centre]#{window_index}:#{window_name}" -x W -y S \
                                        "Swap Left" l "swap-window -t:-1" \
                                        "Swap Right" r "swap-window -t:+1" \
                                        "#{?pane_marked_set,,-}Swap Marked" s "swap-window" \
                                        "" \
                                        "Kill" X "kill-window" \
                                        "Respawn" R "respawn-window -k" \
                                        "#{?pane_marked,Unmark,Mark}" m "select-pane -m" \
                                        "Rename" n "command-prompt -I \"#W\" \"rename-window -- '%%'\"" \
                                        "New After" w "new-window -a" \
                                        "New At End" W "new-window"
bind-key    -T prefix       >       display-menu -T "#[align=centre]#{pane_index} (#{pane_id})" -x P -y P \
                                        "#{?mouse_word,Search For #[underscore]#{=/9/...:mouse_word},}" \
                                            C-r \
                                            "copy-mode -t=; send -Xt= search-backward \"#{q:mouse_word}\"" \
                                        "#{?mouse_word,Type #[underscore]#{=/9/...:mouse_word},}" \
                                            C-y \
                                            "send-keys -l -- \"#{q:mouse_word}\"" \
                                        "#{?mouse_word,Copy #[underscore]#{=/9/...:mouse_word},}" \
                                            c \
                                            "set-buffer -- \"#{q:mouse_word}\"" \
                                        "#{?mouse_line,Copy Line,}" l "set-buffer -- \"#{q:mouse_line}\"" \
                                        "Horizontal Split"          h "split-window -h" \
                                        "Vertical Split"            v "split-window -v" \
                                        "" \
                                        "Swap Up"                   u "swap-pane -U" \
                                        "Swap Down"                 d "swap-pane -D" \
                                        "#{?pane_marked_set,,-}Swap Marked" s "swap-pane" \
                                        "" \
                                        "Kill" X "kill-pane" \
                                        "Respawn" R "respawn-pane -k" \
                                        "#{?pane_marked,Unmark,Mark}" m "select-pane -m" \
                                        "#{?window_zoomed_flag,Unzoom,Zoom}" z "resize-pane -Z"

bind-key    -T prefix       C-b     send-prefix

bind-key    -T prefix       c       display-menu -T "Spawn" -x P -y P \
                                        "Left"    h "split-window -hb" \
                                        "Down"    j "split-window -v " \
                                        "Up"      k "split-window -vb" \
                                        "Right"   l "split-window -h " "" \
                                        "Window"  w "new-window -a   " "" \
                                        "Session" s "new-session     "
bind-key    -T prefix       C       display-menu -T "Spawn in Dir" -x P -y P \
                                        "Left"    h "split-window -hb -c \"#{pane_current_path}\"" \
                                        "Down"    j "split-window -v  -c \"#{pane_current_path}\"" \
                                        "Up"      k "split-window -vb -c \"#{pane_current_path}\"" \
                                        "Right"   l "split-window -h  -c \"#{pane_current_path}\"" \
                                        "" \
                                        "Window"  w "new-window -a    -c \"#{pane_current_path}\"" \
                                        "" \
                                        "Session" s "new-session      -c \"#{pane_current_path}\""

bind-key    -T prefix       d       detach-client

bind-key    -T prefix       g       display-panes
bind-key    -T prefix       G       choose-tree -Zw

bind-key -r -T prefix       h       select-pane -L
bind-key -r -T prefix       j       select-pane -D
bind-key -r -T prefix       k       select-pane -U
bind-key -r -T prefix       l       select-pane -R
bind-key -r -T prefix       Left    select-pane -L
bind-key -r -T prefix       Down    select-pane -D
bind-key -r -T prefix       Up      select-pane -U
bind-key -r -T prefix       Right   select-pane -R
bind-key -r -T prefix       H       resize-pane -L
bind-key -r -T prefix       J       resize-pane -D
bind-key -r -T prefix       K       resize-pane -U
bind-key -r -T prefix       L       resize-pane -R
bind-key -r -T prefix       C-h     previous-window
bind-key -r -T prefix       C-j     select-pane -t :.+
bind-key -r -T prefix       C-k     select-pane -t :.-
bind-key -r -T prefix       C-l     next-window
bind-key -r -T prefix       C-Left  previous-window
bind-key -r -T prefix       C-Down  select-pane -t :.+
bind-key -r -T prefix       C-Up    select-pane -t :.-
bind-key -r -T prefix       C-Right next-window

bind-key -r -T prefix       n       next-window
bind-key -r -T prefix       p       previous-window
bind-key -r -T prefix       N       previous-window
bind-key -r -T prefix       P       next-window

bind-key    -T prefix       q       confirm-before -p "kill-pane #P? (y/n)" kill-pane
bind-key    -T prefix       Q       confirm-before -p "kill-window #W? (y/n)" kill-window
bind-key    -T prefix       r       refresh-client
bind-key    -T prefix       t       clock-mode
