# dotfiles
# dotfiles originating from 'x201arch'

# author: Felix Springer
# email: felixspringer149@gmail.com

#----------------------------------------------------------------

# to use these dotfiles

# have a user with homedirectory
# then

$ alias dotgit="git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME"
$ git clone --bare https://github.com/jumper149/dotfiles.git $HOME/.dotfiles
$ dotgit config --local status.showUntrackedFiles no
$ dotgit checkout

#----------------------------------------------------------------

# archlinux pkg dependencies for utilising the dotfiles
# are found in files:

# ~/.readme/groups
# ~/.readme/core
# ~/.readme/maybe

# groups and core are necessary
# there is '~/.readme/install_core.sh' to install groups and core

#----------------------------------------------------------------

# services and other stuff that needs to be done by root after installing
# set $NONROOTUSER and $NONROOTHOME (no '/' at the end)

$ NONROOTUSER=jumper
$ NONROOTHOME=/home/jumper

# [haveged]
$ systemctl enable haveged.service

# [Networking]
$ ln -s /usr/share/dhcpcd/hooks/10-wpa_supplicant /usr/lib/dhcpcd/dhcpcd-hooks/
$ systemctl enable dhcpcd.service

# [ca-certs]
$ cp $NONROOTHOME/.readme/root-config/deutsche-telekom-root-ca-2.crt /usr/share/ca-certificates/trust-source/anchors/
$ trust extract-compat /usr/share/ca-certificates/trust-source/anchors/deutsche-telekom-root-ca-2.crt

# [sudo]
# allow sudo for group wheel with
$ visudo
$ gpasswd --add $NONROOTUSER wheel

# [xorg]
$ systemctl enable sddm.service

# [ufw]
$ systemctl enable ufw.service
$ ufw default deny
$ ufw limit SSH
$ ufw enable

# [sensors]
$ sensors-detect

# [backlight]
$ gpasswd --add $NONROOTUSER video

#----------------------------------------------------------------

# configuration outside of homedirectory

# [example in ~/.readme/root-config/]
# check these out by yourself

$ cp $NONROOTHOME/.readme/root-config/wpa_supplicant /etc/wpa_supplicant/wpa_supplicant.conf

$ cp $NONROOTHOME/.readme/root-config/sddm.conf /etc/sddm.conf

# maybe change KERNEL in backlight.rules
$ cp $NONROOTHOME/.readme/root-config/backlight.rules /etc/udev/rules.d/backlight.rules

#----------------------------------------------------------------

# extra configuration

# set up following files

# [i3bar]
# check everything in i3blocks
# especially:
# 	wifi.sh
# 	space.sh
# 	temperature.sh
# 	fan.sh
# 	battery.sh

# [mpd]
$ systemctl enable mpd.service --user

# [trash]
# ~/.trash is being used by ranger
$ mkdir ~/.trash

#----------------------------------------------------------------

# now you are set up :)
